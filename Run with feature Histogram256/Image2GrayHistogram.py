import cv2 
from matplotlib import pyplot as plt
import numpy as np
import os
import csv

# img = cv2.imread('E:\\Test\\image.png',0)
# image=cv2.resize(img, (0,0),None, 0.5, 0.5 )
# hist = cv2.calcHist([img],[0],None,[256],[0,255])
# print(hist)

label = '0_apps'
label_num = 0
path = 'E:\\Benign_Total_2'
arr = os.listdir(path)

with open('E:\\Output\\grayhistogram_Benign_2.csv', mode='w', newline='') as grayscale_file:
	grayscale_writer = csv.writer(grayscale_file, delimiter=',', quotechar='"', quoting=csv.QUOTE_MINIMAL)
	for imageName in arr:
		gray_arr = [imageName.split('.apk.')[0],label,label_num]

		img = cv2.imread(path+'\\'+imageName,0)
		image = cv2.resize(img, (0,0),None, 0.5, 0.5 )
		hist = cv2.calcHist([img],[0],None,[256],[0,255])
		print(hist)
		for x in hist:
			# print(x)
		# 	for grayscale in x:
		# 		gray_arr.append(grayscale)
			grayscale_writer.writerow(x)
		# os.rename(path+'\\'+imageName,path+'\\'+gray_arr[0]+'.apk.png')
    
# for imageName in arr:
# 	print(imageName)
# 	# gray_arr = []
# 	img = cv2.imread('E:\\Test\\'+imageName,0)
# 	image = cv2.resize(img, (0,0),None, 0.5, 0.5 )
# 	hist = cv2.calcHist([img],[0],None,[256],[0,255])
# 	print(hist)